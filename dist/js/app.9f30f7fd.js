(function(){"use strict";var e={7637:function(e,t,a){var s=a(144),n=a(9876),u=a(998),r=a(3059),l=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(u.Z,[t(r.Z,{staticStyle:{"font-family":"Carme, sans-serif"},style:{background:a.vuetify.framework.theme.themes[a.vuetify.framework.theme.dark?"dark":"light"].background}},[t("div",{staticStyle:{"font-size":"2em",cursor:"pointer","line-height":"0.5em",padding:"4px",position:"absolute",top:"0",right:"0","user-select":"none"},on:{click:function(e){a.vuetify.framework.theme.dark=!a.vuetify.framework.theme.dark}}},[e._v(" â˜¼ ")]),t("div",{staticClass:"pa-12"},[t(a.MainLayout)],1)])],1)},o=[],i=(a(7658),a(196));const c={balances:{result:{"0xABC11a5aCc3ad66025C21f24a91dD71D0Fc28a46":{ETH:{amount:"12.21",usd_value:"48073.089900000006"},DAI:{amount:"5210.22",usd_value:"5210.22"},UNI:{amount:"45",usd_value:"1324.35"},AAVE:{amount:"142",usd_value:"58570.740000000005"},COMP:{amount:"3.22",usd_value:"1634.6974000000002"}},"0xABC59231bfC2B3d308EB851541D4591CeA941FF3":{ETH:{amount:"4.556",usd_value:"17920.84376"},SUSHI:{amount:"14.456",usd_value:"198.91456"},MKR:{amount:"3.149",usd_value:"11451.84234"},YFI:{amount:"7.631",usd_value:"323304.56106000004"},DAI:{amount:"421.11",usd_value:"421.11"},GRT:{amount:"45.221",usd_value:"45.221"},GTC:{amount:"720",usd_value:"8481.6"}}}},events:{result:{"0xABC11a5aCc3ad66025C21f24a91dD71D0Fc28a46":{events:[{event_type:"deposit",asset:"DAI",value:{amount:"4581.76234795626",usd_value:"4581.76234795626"},timestamp:1570940637},{event_type:"withdraw",asset:"DAI",value:{amount:"1766.0956271959542",usd_value:"1766.0956271959542"},timestamp:1570944237},{event_type:"deposit",asset:"DAI",value:{amount:"4859.320453734532",usd_value:"4859.320453734532"},timestamp:1570947837},{event_type:"withdraw",asset:"DAI",value:{amount:"2319.1592955205074",usd_value:"2319.1592955205074"},timestamp:1570951437},{event_type:"deposit",asset:"DAI",value:{amount:"3446.080072671167",usd_value:"3446.080072671167"},timestamp:1570955037},{event_type:"withdraw",asset:"DAI",value:{amount:"1112.1930623357046",usd_value:"1112.1930623357046"},timestamp:1570958637},{event_type:"deposit",asset:"DAI",value:{amount:"965.0491155511637",usd_value:"965.0491155511637"},timestamp:1570962237},{event_type:"withdraw",asset:"DAI",value:{amount:"3087.731867814461",usd_value:"3087.731867814461"},timestamp:1570965837},{event_type:"deposit",asset:"DAI",value:{amount:"2845.209119125165",usd_value:"2845.209119125165"},timestamp:1570969437},{event_type:"withdraw",asset:"DAI",value:{amount:"1357.3577923549256",usd_value:"1357.3577923549256"},timestamp:1570973037}]},"0xABC59231bfC2B3d308EB851541D4591CeA941FF3":{events:[{event_type:"deposit",asset:"DAI",value:{amount:"2400.4784713896174",usd_value:"2400.4784713896174"},timestamp:1580940637},{event_type:"withdraw",asset:"DAI",value:{amount:"1798.828057800823",usd_value:"1798.828057800823"},timestamp:1580944237},{event_type:"deposit",asset:"DAI",value:{amount:"4986.129509110481",usd_value:"4986.129509110481"},timestamp:1580947837},{event_type:"withdraw",asset:"DAI",value:{amount:"2693.1775964938984",usd_value:"2693.1775964938984"},timestamp:1580951437},{event_type:"deposit",asset:"DAI",value:{amount:"3901.0417966192936",usd_value:"3901.0417966192936"},timestamp:1580955037},{event_type:"withdraw",asset:"DAI",value:{amount:"3769.2034668809956",usd_value:"3769.2034668809956"},timestamp:1580958637},{event_type:"deposit",asset:"DAI",value:{amount:"269.409288104492",usd_value:"269.409288104492"},timestamp:1580962237},{event_type:"withdraw",asset:"DAI",value:{amount:"4688.2126054800165",usd_value:"4688.2126054800165"},timestamp:1580965837},{event_type:"deposit",asset:"DAI",value:{amount:"4981.376609587295",usd_value:"4981.376609587295"},timestamp:1580969437},{event_type:"withdraw",asset:"DAI",value:{amount:"2272.529078263706",usd_value:"2272.529078263706"},timestamp:1580973037}]}}}},v=!0,d=i.ZP.create({baseURL:"http://localhost:3000",headers:{"Content-type":"application/json"}}),m=async(e,t,a)=>{if(v)if("/events"==e){const e=a(c.events.result);t(e)}else{const e=a(c.balances.result);t(e)}else await d.get(e).then((e=>{if(void 0==e?.data?.result)return;const s=a(e.data.result);t(s)}))},p=e=>void 0==e?[]:Object.entries(e).map((([e,t])=>Object.entries(t).map((([t,a])=>({addr:e,asset:{tickerSymbol:t,value:Number.parseFloat(a.amount)},conversion:{tickerSymbol:"USD",charSymbol:{symbol:"$",isLeftSide:!0},value:Number.parseFloat(a.usd_value)}}))))).flat(1),_=(0,n.Q_)("balance",(()=>{const e=(0,s.iH)(),t=(0,s.iH)([]),a=(0,s.iH)([]),n=(0,s.Fl)((()=>{const t=Array();return a.value.filter((t=>void 0==e.value||t.addr==e.value)).forEach((e=>{const a=e.asset.tickerSymbol,s=t.findIndex((e=>e.asset.tickerSymbol==a));-1==s?t.push(e):(t[s].asset.value+=e.asset.value,t[s].conversion.value+=e.conversion.value)})),t})),u=(0,s.Fl)((()=>n.value.map((e=>e.conversion.value)).reduce(((e,t)=>e+t),0)));function r(){const e=e=>a.value=e;m("/balances",e,p).then((()=>{const e=a.value.map((e=>e.addr));t.value=Array.from(new Set(e).values())})).catch((e=>{console.log(e)}))}return{currentAddress:e,availableAddresses:t,_balances:a,balances:n,sumTotal:u,fetchBalances:r}}));var f;(function(e){e["Withdrawal"]="Withdrawal",e["Deposit"]="Deposit"})(f||(f={}));const y=e=>void 0==e?[]:Object.entries(e).map((([e,t])=>t.events.map((t=>({addr:e,type:t.event_type,record:{asset:{tickerSymbol:t.asset,value:Number.parseFloat(t.value.amount)},conversion:{tickerSymbol:"USD",charSymbol:{symbol:"$",isLeftSide:!0},value:Number.parseFloat(t.value.usd_value)}},datetime:new Date(1e3*t.timestamp)}))))).flat(1),b=(0,n.Q_)("events",(()=>{const e=(0,s.iH)([]),t=(0,s.Fl)((()=>{const t=_(),{currentAddress:a}=(0,n.Jk)(t);return e.value.filter((e=>void 0==a?.value||e.addr==a.value))}));function a(){const t=t=>e.value=t;m("/events",t,y).catch((e=>{console.log(e)}))}return{_events:e,events:t,fetchEvents:a}}));var h=a(9582),w=a(266),k=a(2150),A=a(9258),g=a(1713),D=a(1483),S=a(626),Z=a(2165),C=a(867),x=a(6909),T=a(1783),F=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(h.Z,{staticClass:"rounded indigo darken-3 pa-1",attrs:{width:"100vw",elevation:"20"}},[t(k.Z,{staticClass:"white--text pa-0 rounded",attrs:{fluid:"",elevation:"8"}},[t(A.Z,{staticClass:"pa-3 rounded",staticStyle:{height:"fit-content"},attrs:{src:"https://i.pinimg.com/originals/7a/81/24/7a81240359e212d40a665222ff3d13aa.jpg"}},[t(g.Z,{staticClass:"pl-2 pt-2",attrs:{elevation:"6"}},[t("h1",[e._v("Crypto Portfolio")])]),t(g.Z,{attrs:{elevation:"6"}},[t(w.Z,[t("h2",{staticClass:"h2 text-no-wrap"},[t("small",[e._v("Total:")]),e._v(" $"+e._s(a.FormatCurrency(a.sumTotal,2))+" ")])]),t(w.Z,[t("div",{staticClass:"float-right"},[t(D.Z,{attrs:{items:a.availableAddresses,label:" Filter by Address",dark:"",dense:""},model:{value:a.currentAddress,callback:function(e){a.currentAddress=e},expression:"currentAddress"}})],1)])],1)],1)],1),t(T.Z,{attrs:{color:"indigo darken-2",dark:"",flat:"",dense:""}},[t(C.Z,{attrs:{"slider-color":"orange accent-4"}},[t(S.Z,{on:{click:function(e){a.currentTab="tab-balances"}}},[e._v(" Balances ")]),t(S.Z,{on:{click:function(e){a.currentTab="tab-events"}}},[e._v(" Events ")])],1)],1),t(x.Z,{staticClass:"pa-4",model:{value:a.currentTab,callback:function(e){a.currentTab=e},expression:"currentTab"}},[t(Z.Z,{attrs:{value:"tab-balances"}},[t(a.BalancesTable,{attrs:{rowData:a.balances,sumTotal:a.sumTotal}})],1),t(Z.Z,{attrs:{value:"tab-events"}},[t(a.EventsTable,{attrs:{rowData:a.events}})],1)],1)],1)},I=[],O=a(9449),P=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(O.Z,{scopedSlots:e._u([{key:"default",fn:function(){return[t("tbody",e._l(e.rowData,(function(s){return t("tr",{key:s.asset.tickerSymbol},[t("td",{staticClass:"text-no-wrap"},[t(a.FinancialValue,{attrs:{value:s.asset}})],1),t("td",[t(a.FinancialValue,{attrs:{value:s.conversion}})],1),t("td",[t("strong",[e._v(e._s(a.ToFixed(s.conversion.value/e.sumTotal*100,1))+"%")])])])})),0)]},proxy:!0}])})},B=[];const j=(e,t)=>{const a=Math.pow(10,t),s=e*a,n=Math[s<0?"ceil":"floor"](s);return n/a},E=(e,t)=>j(e,t).toLocaleString("en-us",{minimumFractionDigits:2});var L=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"text-no-wrap"},[e.value.charSymbol?.isLeftSide?t("span",[e._v(" "+e._s(e.value.charSymbol?.symbol)+" ")]):e._e(),e._v(" "+e._s(a.FormatCurrency(e.value.value,2))+" "),t("small",[t("strong",[e._v(e._s(e.value.tickerSymbol))])]),e.value.charSymbol?.isLeftSide?e._e():t("span",[e._v(" "+e._s(e.value.charSymbol?.symbol)+" ")])])},M=[],H=(0,s.aZ)({__name:"FinancialValue",props:{value:null},setup(e){return{__sfc:!0,FormatCurrency:E}}}),V=H,N=a(1001),U=(0,N.Z)(V,L,M,!1,null,null,null),$=U.exports,J=(0,s.aZ)({__name:"BalancesTable",props:{rowData:null,sumTotal:null},setup(e){return{__sfc:!0,ToFixed:j,FinancialValue:$}}}),R=J,W=(0,N.Z)(R,P,B,!1,null,null,null),G=W.exports,Q=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(O.Z,{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("tbody",e._l(e.rowData,(function(s){return t("tr",{key:s.addr+s.datetime},[t("td",[t("small",[e._v(e._s(s.addr))])]),t("td",[t("strong",[e._v(e._s(s.type))])]),t("td",{staticClass:"text-no-wrap"},[t(a.FinancialValue,{attrs:{value:s.record.asset}})],1),t("td",{staticClass:"text-no-wrap"},[t(a.FinancialValue,{attrs:{value:s.record.conversion}})],1),t("td",[e._v(" "+e._s(s.datetime.toLocaleString())+" ")])])})),0)]},proxy:!0}])})},z=[],K=(0,s.aZ)({__name:"EventsTable",props:{rowData:null},setup(e){return{__sfc:!0,FinancialValue:$}}}),Y=K,q=(0,N.Z)(Y,Q,z,!1,null,null,null),X=q.exports,ee=(0,s.aZ)({__name:"MainLayout",setup(e){const t=_(),{currentAddress:a,availableAddresses:u,sumTotal:r,balances:l}=(0,n.Jk)(t),o=b(),{events:i}=(0,n.Jk)(o),c=(0,s.iH)("tab-balances");return{__sfc:!0,balanceStore:t,currentAddress:a,availableAddresses:u,sumTotal:r,balances:l,eventStore:o,events:i,currentTab:c,BalancesTable:G,EventsTable:X,FormatCurrency:E}}}),te=ee,ae=(0,N.Z)(te,F,I,!1,null,null,null),se=ae.exports,ne=a(1705),ue=a(2638);s.ZP.use(ne.Z);var re=new ne.Z({theme:{dark:!0,themes:{light:{background:ue.Z.purple.darken4},dark:{background:ue.Z.grey.darken4}}}}),le=(0,s.aZ)({__name:"App",setup(e){const t=_(),a=b();return(0,s.wF)((async()=>{t.fetchBalances(),a.fetchEvents()})),{__sfc:!0,balanceStore:t,eventStore:a,MainLayout:se,vuetify:re}}}),oe=le,ie=(0,N.Z)(oe,l,o,!1,null,null,null),ce=ie.exports;s.ZP.config.productionTip=!1,s.ZP.use(n.og);const ve=(0,n.WB)();new s.ZP({vuetify:re,render:e=>e(ce),pinia:ve}).$mount("#app")}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var u=t[s]={exports:{}};return e[s](u,u.exports,a),u.exports}a.m=e,function(){var e=[];a.O=function(t,s,n,u){if(!s){var r=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],u=e[c][2];for(var l=!0,o=0;o<s.length;o++)(!1&u||r>=u)&&Object.keys(a.O).every((function(e){return a.O[e](s[o])}))?s.splice(o--,1):(l=!1,u<r&&(r=u));if(l){e.splice(c--,1);var i=n();void 0!==i&&(t=i)}}return t}u=u||0;for(var c=e.length;c>0&&e[c-1][2]>u;c--)e[c]=e[c-1];e[c]=[s,n,u]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,u,r=s[0],l=s[1],o=s[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(o)var c=o(a)}for(t&&t(s);i<r.length;i++)u=r[i],a.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return a.O(c)},s=self["webpackChunkvue2_7_ts_vuetify_demo"]=self["webpackChunkvue2_7_ts_vuetify_demo"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(7637)}));s=a.O(s)})();
//# sourceMappingURL=app.9f30f7fd.js.map